[
  {
    "table_name": "accounts",
    "columns": [
      {
        "name": "account_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": "nextval('accounts_account_id_seq'::regclass)",
        "position": 1
      },
      {
        "name": "customer_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 2
      },
      {
        "name": "account_number",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 3
      },
      {
        "name": "account_type",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 4
      },
      {
        "name": "currency",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": "'USD'::text",
        "position": 5
      },
      {
        "name": "current_balance",
        "data_type": "numeric",
        "max_length": null,
        "nullable": false,
        "default": "0",
        "position": 6
      },
      {
        "name": "status",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 7
      },
      {
        "name": "opened_at",
        "data_type": "timestamp with time zone",
        "max_length": null,
        "nullable": false,
        "default": "now()",
        "position": 8
      }
    ],
    "primary_keys": [
      "account_id"
    ],
    "foreign_keys": [
      {
        "column": "customer_id",
        "references_table": "customers",
        "references_column": "customer_id",
        "constraint_name": "accounts_customer_id_fkey"
      }
    ],
    "unique_columns": [
      "account_number"
    ],
    "check_constraints": [
      {
        "name": "accounts_account_type_check",
        "clause": "(account_type = ANY (ARRAY['checking'::text, 'savings'::text, 'credit'::text]))"
      },
      {
        "name": "accounts_status_check",
        "clause": "(status = ANY (ARRAY['active'::text, 'frozen'::text, 'closed'::text]))"
      },
      {
        "name": "accounts_account_type_check",
        "clause": "(account_type = ANY (ARRAY['checking'::text, 'savings'::text, 'credit'::text]))"
      },
      {
        "name": "accounts_status_check",
        "clause": "(status = ANY (ARRAY['active'::text, 'frozen'::text, 'closed'::text]))"
      },
      {
        "name": "accounts_account_id_not_null",
        "clause": "account_id IS NOT NULL"
      },
      {
        "name": "accounts_customer_id_not_null",
        "clause": "customer_id IS NOT NULL"
      },
      {
        "name": "accounts_account_number_not_null",
        "clause": "account_number IS NOT NULL"
      },
      {
        "name": "accounts_account_type_not_null",
        "clause": "account_type IS NOT NULL"
      },
      {
        "name": "accounts_currency_not_null",
        "clause": "currency IS NOT NULL"
      },
      {
        "name": "accounts_current_balance_not_null",
        "clause": "current_balance IS NOT NULL"
      },
      {
        "name": "accounts_status_not_null",
        "clause": "status IS NOT NULL"
      },
      {
        "name": "accounts_opened_at_not_null",
        "clause": "opened_at IS NOT NULL"
      },
      {
        "name": "accounts_account_id_not_null",
        "clause": "account_id IS NOT NULL"
      },
      {
        "name": "accounts_customer_id_not_null",
        "clause": "customer_id IS NOT NULL"
      },
      {
        "name": "accounts_account_number_not_null",
        "clause": "account_number IS NOT NULL"
      },
      {
        "name": "accounts_account_type_not_null",
        "clause": "account_type IS NOT NULL"
      },
      {
        "name": "accounts_currency_not_null",
        "clause": "currency IS NOT NULL"
      },
      {
        "name": "accounts_current_balance_not_null",
        "clause": "current_balance IS NOT NULL"
      },
      {
        "name": "accounts_status_not_null",
        "clause": "status IS NOT NULL"
      },
      {
        "name": "accounts_opened_at_not_null",
        "clause": "opened_at IS NOT NULL"
      }
    ],
    "indexes": [
      {
        "name": "accounts_pkey",
        "definition": "CREATE UNIQUE INDEX accounts_pkey ON public.accounts USING btree (account_id)"
      },
      {
        "name": "accounts_account_number_key",
        "definition": "CREATE UNIQUE INDEX accounts_account_number_key ON public.accounts USING btree (account_number)"
      },
      {
        "name": "idx_accounts_customer_id",
        "definition": "CREATE INDEX idx_accounts_customer_id ON public.accounts USING btree (customer_id)"
      }
    ],
    "row_count": 85
  },
  {
    "table_name": "cards",
    "columns": [
      {
        "name": "card_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": "nextval('cards_card_id_seq'::regclass)",
        "position": 1
      },
      {
        "name": "account_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 2
      },
      {
        "name": "card_number_last4",
        "data_type": "character",
        "max_length": 4,
        "nullable": false,
        "default": null,
        "position": 3
      },
      {
        "name": "network",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 4
      },
      {
        "name": "card_type",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 5
      },
      {
        "name": "issued_at",
        "data_type": "timestamp with time zone",
        "max_length": null,
        "nullable": false,
        "default": "now()",
        "position": 6
      },
      {
        "name": "expires_at",
        "data_type": "date",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 7
      },
      {
        "name": "is_active",
        "data_type": "boolean",
        "max_length": null,
        "nullable": false,
        "default": "true",
        "position": 8
      }
    ],
    "primary_keys": [
      "card_id"
    ],
    "foreign_keys": [
      {
        "column": "account_id",
        "references_table": "accounts",
        "references_column": "account_id",
        "constraint_name": "cards_account_id_fkey"
      }
    ],
    "unique_columns": [],
    "check_constraints": [
      {
        "name": "cards_network_check",
        "clause": "(network = ANY (ARRAY['Visa'::text, 'Mastercard'::text, 'Amex'::text]))"
      },
      {
        "name": "cards_card_type_check",
        "clause": "(card_type = ANY (ARRAY['debit'::text, 'credit'::text]))"
      },
      {
        "name": "cards_network_check",
        "clause": "(network = ANY (ARRAY['Visa'::text, 'Mastercard'::text, 'Amex'::text]))"
      },
      {
        "name": "cards_card_type_check",
        "clause": "(card_type = ANY (ARRAY['debit'::text, 'credit'::text]))"
      },
      {
        "name": "cards_network_not_null",
        "clause": "network IS NOT NULL"
      },
      {
        "name": "cards_card_type_not_null",
        "clause": "card_type IS NOT NULL"
      },
      {
        "name": "cards_card_id_not_null",
        "clause": "card_id IS NOT NULL"
      },
      {
        "name": "cards_account_id_not_null",
        "clause": "account_id IS NOT NULL"
      },
      {
        "name": "cards_card_number_last4_not_null",
        "clause": "card_number_last4 IS NOT NULL"
      },
      {
        "name": "cards_issued_at_not_null",
        "clause": "issued_at IS NOT NULL"
      },
      {
        "name": "cards_expires_at_not_null",
        "clause": "expires_at IS NOT NULL"
      },
      {
        "name": "cards_is_active_not_null",
        "clause": "is_active IS NOT NULL"
      },
      {
        "name": "cards_card_id_not_null",
        "clause": "card_id IS NOT NULL"
      },
      {
        "name": "cards_account_id_not_null",
        "clause": "account_id IS NOT NULL"
      },
      {
        "name": "cards_card_number_last4_not_null",
        "clause": "card_number_last4 IS NOT NULL"
      },
      {
        "name": "cards_network_not_null",
        "clause": "network IS NOT NULL"
      },
      {
        "name": "cards_card_type_not_null",
        "clause": "card_type IS NOT NULL"
      },
      {
        "name": "cards_issued_at_not_null",
        "clause": "issued_at IS NOT NULL"
      },
      {
        "name": "cards_expires_at_not_null",
        "clause": "expires_at IS NOT NULL"
      },
      {
        "name": "cards_is_active_not_null",
        "clause": "is_active IS NOT NULL"
      }
    ],
    "indexes": [
      {
        "name": "cards_pkey",
        "definition": "CREATE UNIQUE INDEX cards_pkey ON public.cards USING btree (card_id)"
      },
      {
        "name": "idx_cards_account_id",
        "definition": "CREATE INDEX idx_cards_account_id ON public.cards USING btree (account_id)"
      }
    ],
    "row_count": 65
  },
  {
    "table_name": "customers",
    "columns": [
      {
        "name": "customer_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": "nextval('customers_customer_id_seq'::regclass)",
        "position": 1
      },
      {
        "name": "full_name",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 2
      },
      {
        "name": "email",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 3
      },
      {
        "name": "phone_number",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 4
      },
      {
        "name": "date_of_birth",
        "data_type": "date",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 5
      },
      {
        "name": "address_line1",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 6
      },
      {
        "name": "city",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 7
      },
      {
        "name": "state",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 8
      },
      {
        "name": "postal_code",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 9
      },
      {
        "name": "ssn",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 10
      },
      {
        "name": "created_at",
        "data_type": "timestamp with time zone",
        "max_length": null,
        "nullable": false,
        "default": "now()",
        "position": 11
      },
      {
        "name": "is_vip",
        "data_type": "boolean",
        "max_length": null,
        "nullable": false,
        "default": "false",
        "position": 12
      }
    ],
    "primary_keys": [
      "customer_id"
    ],
    "foreign_keys": [],
    "unique_columns": [
      "email"
    ],
    "check_constraints": [
      {
        "name": "customers_customer_id_not_null",
        "clause": "customer_id IS NOT NULL"
      },
      {
        "name": "customers_full_name_not_null",
        "clause": "full_name IS NOT NULL"
      },
      {
        "name": "customers_email_not_null",
        "clause": "email IS NOT NULL"
      },
      {
        "name": "customers_created_at_not_null",
        "clause": "created_at IS NOT NULL"
      },
      {
        "name": "customers_is_vip_not_null",
        "clause": "is_vip IS NOT NULL"
      },
      {
        "name": "customers_customer_id_not_null",
        "clause": "customer_id IS NOT NULL"
      },
      {
        "name": "customers_full_name_not_null",
        "clause": "full_name IS NOT NULL"
      },
      {
        "name": "customers_email_not_null",
        "clause": "email IS NOT NULL"
      },
      {
        "name": "customers_created_at_not_null",
        "clause": "created_at IS NOT NULL"
      },
      {
        "name": "customers_is_vip_not_null",
        "clause": "is_vip IS NOT NULL"
      }
    ],
    "indexes": [
      {
        "name": "customers_pkey",
        "definition": "CREATE UNIQUE INDEX customers_pkey ON public.customers USING btree (customer_id)"
      },
      {
        "name": "customers_email_key",
        "definition": "CREATE UNIQUE INDEX customers_email_key ON public.customers USING btree (email)"
      }
    ],
    "row_count": 50
  },
  {
    "table_name": "merchants",
    "columns": [
      {
        "name": "merchant_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": "nextval('merchants_merchant_id_seq'::regclass)",
        "position": 1
      },
      {
        "name": "name",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 2
      },
      {
        "name": "category",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 3
      },
      {
        "name": "country",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 4
      },
      {
        "name": "risk_level",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 5
      }
    ],
    "primary_keys": [
      "merchant_id"
    ],
    "foreign_keys": [],
    "unique_columns": [],
    "check_constraints": [
      {
        "name": "merchants_risk_level_check",
        "clause": "(risk_level = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text]))"
      },
      {
        "name": "merchants_risk_level_check",
        "clause": "(risk_level = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text]))"
      },
      {
        "name": "merchants_merchant_id_not_null",
        "clause": "merchant_id IS NOT NULL"
      },
      {
        "name": "merchants_name_not_null",
        "clause": "name IS NOT NULL"
      },
      {
        "name": "merchants_category_not_null",
        "clause": "category IS NOT NULL"
      },
      {
        "name": "merchants_country_not_null",
        "clause": "country IS NOT NULL"
      },
      {
        "name": "merchants_risk_level_not_null",
        "clause": "risk_level IS NOT NULL"
      },
      {
        "name": "merchants_merchant_id_not_null",
        "clause": "merchant_id IS NOT NULL"
      },
      {
        "name": "merchants_name_not_null",
        "clause": "name IS NOT NULL"
      },
      {
        "name": "merchants_category_not_null",
        "clause": "category IS NOT NULL"
      },
      {
        "name": "merchants_country_not_null",
        "clause": "country IS NOT NULL"
      },
      {
        "name": "merchants_risk_level_not_null",
        "clause": "risk_level IS NOT NULL"
      }
    ],
    "indexes": [
      {
        "name": "merchants_pkey",
        "definition": "CREATE UNIQUE INDEX merchants_pkey ON public.merchants USING btree (merchant_id)"
      }
    ],
    "row_count": 5
  },
  {
    "table_name": "transactions",
    "columns": [
      {
        "name": "transaction_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": "nextval('transactions_transaction_id_seq'::regclass)",
        "position": 1
      },
      {
        "name": "account_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 2
      },
      {
        "name": "card_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 3
      },
      {
        "name": "merchant_id",
        "data_type": "integer",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 4
      },
      {
        "name": "amount",
        "data_type": "numeric",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 5
      },
      {
        "name": "currency",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": "'USD'::text",
        "position": 6
      },
      {
        "name": "status",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 7
      },
      {
        "name": "transaction_type",
        "data_type": "text",
        "max_length": null,
        "nullable": false,
        "default": null,
        "position": 8
      },
      {
        "name": "created_at",
        "data_type": "timestamp with time zone",
        "max_length": null,
        "nullable": false,
        "default": "now()",
        "position": 9
      },
      {
        "name": "description",
        "data_type": "text",
        "max_length": null,
        "nullable": true,
        "default": null,
        "position": 10
      }
    ],
    "primary_keys": [
      "transaction_id"
    ],
    "foreign_keys": [
      {
        "column": "account_id",
        "references_table": "accounts",
        "references_column": "account_id",
        "constraint_name": "transactions_account_id_fkey"
      },
      {
        "column": "card_id",
        "references_table": "cards",
        "references_column": "card_id",
        "constraint_name": "transactions_card_id_fkey"
      },
      {
        "column": "merchant_id",
        "references_table": "merchants",
        "references_column": "merchant_id",
        "constraint_name": "transactions_merchant_id_fkey"
      }
    ],
    "unique_columns": [],
    "check_constraints": [
      {
        "name": "transactions_status_check",
        "clause": "(status = ANY (ARRAY['pending'::text, 'completed'::text, 'reversed'::text]))"
      },
      {
        "name": "transactions_transaction_type_check",
        "clause": "(transaction_type = ANY (ARRAY['card'::text, 'ach'::text, 'wire'::text, 'fee'::text, 'refund'::text]))"
      },
      {
        "name": "transactions_status_check",
        "clause": "(status = ANY (ARRAY['pending'::text, 'completed'::text, 'reversed'::text]))"
      },
      {
        "name": "transactions_transaction_type_check",
        "clause": "(transaction_type = ANY (ARRAY['card'::text, 'ach'::text, 'wire'::text, 'fee'::text, 'refund'::text]))"
      },
      {
        "name": "transactions_transaction_id_not_null",
        "clause": "transaction_id IS NOT NULL"
      },
      {
        "name": "transactions_account_id_not_null",
        "clause": "account_id IS NOT NULL"
      },
      {
        "name": "transactions_amount_not_null",
        "clause": "amount IS NOT NULL"
      },
      {
        "name": "transactions_currency_not_null",
        "clause": "currency IS NOT NULL"
      },
      {
        "name": "transactions_status_not_null",
        "clause": "status IS NOT NULL"
      },
      {
        "name": "transactions_transaction_type_not_null",
        "clause": "transaction_type IS NOT NULL"
      },
      {
        "name": "transactions_created_at_not_null",
        "clause": "created_at IS NOT NULL"
      },
      {
        "name": "transactions_transaction_id_not_null",
        "clause": "transaction_id IS NOT NULL"
      },
      {
        "name": "transactions_account_id_not_null",
        "clause": "account_id IS NOT NULL"
      },
      {
        "name": "transactions_amount_not_null",
        "clause": "amount IS NOT NULL"
      },
      {
        "name": "transactions_currency_not_null",
        "clause": "currency IS NOT NULL"
      },
      {
        "name": "transactions_status_not_null",
        "clause": "status IS NOT NULL"
      },
      {
        "name": "transactions_transaction_type_not_null",
        "clause": "transaction_type IS NOT NULL"
      },
      {
        "name": "transactions_created_at_not_null",
        "clause": "created_at IS NOT NULL"
      }
    ],
    "indexes": [
      {
        "name": "transactions_pkey",
        "definition": "CREATE UNIQUE INDEX transactions_pkey ON public.transactions USING btree (transaction_id)"
      },
      {
        "name": "idx_tx_account_id_created_at",
        "definition": "CREATE INDEX idx_tx_account_id_created_at ON public.transactions USING btree (account_id, created_at DESC)"
      },
      {
        "name": "idx_tx_merchant_created_at",
        "definition": "CREATE INDEX idx_tx_merchant_created_at ON public.transactions USING btree (merchant_id, created_at DESC)"
      }
    ],
    "row_count": 98
  }
]